# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL Database Settings
POSTGRES_USER=memeai
POSTGRES_PASSWORD=memeai
POSTGRES_DB=memedb
POSTGRES_PORT=5432

# Database Connection URL
# For local development: use localhost
# For Docker: use db (service name)
DATABASE_URL=postgresql://memeai:memeai@localhost:5432/memedb

# ============================================
# BACKEND SERVER CONFIGURATION
# ============================================
# Server Port
PORT=5000
BACKEND_PORT=5000

# Node Environment
# Options: development, production
NODE_ENV=production

# ============================================
# JWT AUTHENTICATION CONFIGURATION
# ============================================
# JWT Secret Key (CHANGE THIS IN PRODUCTION!)
# Generate a strong random string (min 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production-min-32-chars

# JWT Refresh Token Secret Key (CHANGE THIS IN PRODUCTION!)
# Should be different from JWT_SECRET
# Example: openssl rand -base64 32
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production-min-32-chars

# ============================================
# EXTERNAL API CONFIGURATION
# ============================================
# Axiom API Endpoint
AXIOM_API_URL=https://api2.axiom.trade/pulse

# ============================================
# DOCKER MEMORY CONFIGURATION (Optional)
# ============================================
# Database Memory Limits (for docker-compose.yml)
# DB_MEMORY_LIMIT=512m          # Base memory limit for PostgreSQL
# DB_MEMSWAP_LIMIT=1g           # Total memory + swap limit for DB
# BACKEND_MEMORY_LIMIT=1g       # Base memory limit for Node.js backend
# BACKEND_MEMSWAP_LIMIT=2g      # Total memory + swap limit for backend

# Node.js Memory Options (Optional)
# NODE_OPTIONS=--max-old-space-size=512
# Note: --expose-gc and --gc-interval are not allowed in NODE_OPTIONS (security restriction)

# ============================================
# NOTES:
# ============================================
# 1. Copy this file to .env: cp env.example .env
# 2. Update all values, especially JWT secrets
# 3. Never commit .env file to version control
# 4. For production, use strong random strings for JWT secrets
# 5. Change default database credentials in production
# 6. Memory limits allow containers to use swap when under heavy load
#    This prevents containers from being killed (OOM), but uses disk swap
# 7. Lower memory limits = lighter, but may be slower under heavy load
# 8. Higher swap limits = container stays alive longer, but may slow down
